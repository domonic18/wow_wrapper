<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>HardcoreCompleted</title>
  <style>
    table {
      border-collapse: collapse;
    }

    th, td {
      border: 1px solid black;
      padding: 8px;
    }

    .race-image {
      width: 16px;
      height: 16px;
    }
  </style>
</head>
<body>
<table id="characterTable">
  <thead>
  <tr>
    <th>名字</th>
    <th>当前级别</th>
    <th>职业</th>
    <th>种族</th>
    <th>当前游戏时间</th>
  </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
  function displayCharacters(characters) {
    var tableBody = document.querySelector("#characterTable tbody");

    for (var key in characters) {
      if (characters.hasOwnProperty(key)) {
        var character = characters[key];

        var row = document.createElement("tr");

        var nameCell = document.createElement("td");
        nameCell.textContent = character.Name;
        row.appendChild(nameCell);

        var levelCell = document.createElement("td");
        levelCell.textContent = character.Level;
        row.appendChild(levelCell);

        var classCell = document.createElement("td");
        classCell.textContent = character.Class;
        row.appendChild(classCell);

        var raceCell = document.createElement("td");
        var raceImage = document.createElement("img");
        raceImage.src = character.Race;
        raceImage.alt = character.Race;
        raceImage.className = "race-image";
        raceCell.appendChild(raceImage);
        row.appendChild(raceCell);

        var timeCell = document.createElement("td");
        timeCell.textContent = character.TotalSpentTime;
        row.appendChild(timeCell);

        tableBody.appendChild(row);
      }
    }
  }

  var xhr = new XMLHttpRequest();
  var url = "http://lokta.cn/web-api/launcher/index.php?_key=ffc312f882fbeeb51504483ee8c691a2&_url=hardcore_incompleted";

  xhr.onreadystatechange = function() {
    if (xhr.readyState === XMLHttpRequest.DONE) {
      if (xhr.status === 200) {
        var responseData = JSON.parse(xhr.responseText);
        displayCharacters(responseData);
      } else {
        console.error("Error: " + xhr.status);
      }
    }
  };

  xhr.open("GET", url, true);
  xhr.send();
</script>
</body>
</html>



